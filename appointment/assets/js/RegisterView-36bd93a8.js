import{u as I,_ as N}from"./common-cbd0af38.js";import{u as U}from"./common-84584842.js";import{h as Y}from"./moment-a9aaa855.js";import{d as h,r as k,c as B,b as D,e as f,f as a,w as o,u as E,g as r,h as g,i as m,j as _,x as P,q as O,l as p,E as j,_ as A}from"./index-e2849fbf.js";const T={class:"index-view"},W={class:"col-content-right"},z={class:"top-content"},F={key:0},G={key:0},H={class:"footer-btns"},J=h({name:"PoinSuccess",__name:"RegisterView",setup(K){const c=k(),l=I(),v=E(),s=k({date:"",email:"",address:"",sex:""}),y=B(()=>({sex:[{required:!0,message:"请选择性别",trigger:"change"}],date:[{required:!0,message:"请选择生日",trigger:"change"}],email:[{required:!0,message:"请输入邮箱",trigger:"change"}],address:[{required:!0,message:"请输入地址",trigger:"change"}]})),R=()=>{console.log("===commonStore",l.pageOneParams.word,c.value),c.value.validate(async b=>{var e,n;if(b){const d=await U({...l.pageOneParams.userInfo,id:l.pageOneParams.word.newCustomeredId,username:l.pageOneParams.word.name,mobile:l.pageOneParams.word.phone,gender:s.value.sex,email:s.value.email,birthday:Y(s.value.date).format("YYYY-MM-DD"),address:s.value.address,enabled:!!((n=(e=l.pageOneParams)==null?void 0:e.userInfo)!=null&&n.enabled)});d&&d.code===2e4&&(j.success("用户注册成功！！！"),v.push("/index"))}else console.log("submit error")})},C=()=>{v.back()};return D(()=>{}),(b,e)=>{const n=r("el-col"),d=r("el-row"),u=r("el-form-item"),V=r("el-radio"),q=r("el-radio-group"),M=r("el-date-picker"),w=r("el-input"),S=r("el-form"),x=r("el-button");return g(),f("div",T,[a(d,null,{default:o(()=>[a(n,{span:9},{default:o(()=>e[4]||(e[4]=[m("div",{class:"col-content-left"},[m("img",{src:N,alt:""})],-1)])),_:1,__:[4]}),a(n,{span:6},{default:o(()=>[m("div",W,[m("div",z,[a(d,null,{default:o(()=>[a(n,{span:24},{default:o(()=>e[5]||(e[5]=[m("div",{class:"poin-suc"},"注册会员",-1)])),_:1,__:[5]})]),_:1})]),a(S,{ref_key:"formRefRegister",ref:c,model:s.value,rules:_(y),"label-position":"left"},{default:o(()=>[a(u,{label:"姓名:"},{default:o(()=>{var t,i;return[(t=_(l).pageOneParams)!=null&&t.word?(g(),f("div",F,P((i=_(l).pageOneParams)==null?void 0:i.word.name),1)):O("",!0)]}),_:1}),a(u,{label:"手机号:"},{default:o(()=>{var t,i;return[(t=_(l).pageOneParams)!=null&&t.word?(g(),f("div",G,P((i=_(l).pageOneParams)==null?void 0:i.word.phone),1)):O("",!0)]}),_:1}),a(u,{label:"性别:",prop:"sex"},{default:o(()=>[a(q,{modelValue:s.value.sex,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.sex=t)},{default:o(()=>[a(V,{value:1},{default:o(()=>e[6]||(e[6]=[p("男")])),_:1,__:[6]}),a(V,{value:0},{default:o(()=>e[7]||(e[7]=[p("女")])),_:1,__:[7]})]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"生日:",prop:"date"},{default:o(()=>[a(M,{modelValue:s.value.date,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.date=t),type:"date",placeholder:"请选择生日"},null,8,["modelValue"])]),_:1}),a(u,{label:"邮箱:",prop:"email"},{default:o(()=>[a(w,{modelValue:s.value.email,"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.email=t),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),a(u,{label:"地址:",prop:"address"},{default:o(()=>[a(w,{modelValue:s.value.address,"onUpdate:modelValue":e[3]||(e[3]=t=>s.value.address=t),placeholder:"请输入地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),m("div",H,[a(d,{gutter:24},{default:o(()=>[a(n,{span:12,class:"back-btn-col"},{default:o(()=>[a(x,{class:"back-btn",onClick:C},{default:o(()=>e[8]||(e[8]=[p("取消")])),_:1,__:[8]})]),_:1}),a(n,{span:12,class:"sure-btn-col"},{default:o(()=>[a(x,{class:"sure-btn",onClick:R},{default:o(()=>e[9]||(e[9]=[p(" 完成 ")])),_:1,__:[9]})]),_:1})]),_:1})])])]),_:1})]),_:1})])}}});const $=A(J,[["__scopeId","data-v-ff098246"]]);export{$ as default};
